<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>exPENsion</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="/style.css">
  <script src="/bundle.js"></script>
</head>
<body>
  <h1 id="logo">
    ex<span id="logoPen">PEN</span>sion
  </h1>
  <div id="screens">
    <div id="startScreen" class="activeScreen">
      <p>One player starts with a scribble, and the other makes a drawing out of it!</p>
      <button id="newGameButton" type="button" class="btn btn-primary">Start new game</button>
      <button id="joinGameButton" type="button" class="btn btn-primary">Join game via code</button>
      <p id="newGameError" class="text-danger"></p>
    </div>
    <div id="displayCodeScreen">
      <p>Tell the other player to join with the code:</p>
      <h2 id="codeDisplay"></h2>
    </div>
    <div id="inputCodeScreen">
      <p>Enter the game code given by the other player:</p>
      <!-- https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/maxlength -->
      <!-- https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion -->
      <input type="text" maxlength="3" id="codeInput" autocomplete="off">
      <button id="submitJoinCodeButton" type="button" class="btn btn-primary">Join</button>
      <p id="joinError" class="text-danger"></p>
    </div>
    <div id="waitingForDrawingScreen">
      <p id="whyAmIWaiting"></p>
      <div id="streamingBoardOuter">
        <div class="ratio4x3">
          <div class="ratioContainer">
            <canvas width="640" height="480" id="streamingBoard"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div id="drawingScreen">
      <p id="whatAmIDrawing"></p>
      <div id="drawingBoardOuter">
        <div class="ratio4x3">
          <div class="ratioContainer">
            <canvas width="640" height="480" id="drawingBoard"></canvas>
          </div>
        </div>
      </div>
      <button id="submitDrawingButton" type="button" class="btn btn-primary">Submit</button>
    </div>
    <div id="doneScreen">
      <p>BEHOLD! Your beautiful exPENsion!</p>
      <div id="finalDrawingOuter">
        <div class="ratio4x3">
          <div class="ratioContainer">
            <img id="finalScribble" class="finalDrawing" src="" alt="An abstract scribble">
            <img id="finalExpension" class="finalDrawing finalDrawingActive" src="" alt="A coherent drawing made as an exPENsion of an abstract scribble">
          </div>
        </div>
      </div>
      <!-- https://getbootstrap.com/docs/5.0/forms/checks-radios/ -->
      <div id="finalScribbleOrExpensionForm" class="form-check form-switch">
        <label class="form-check-label" for="finalScribbleOrExpension">Show scribble</label>
        <input class="form-check-input" type="checkbox" id="finalScribbleOrExpension" checked>
        <label class="form-check-label" for="finalScribbleOrExpension">Show exPENsion</label>
      </div>
      <button id="saveDrawingsButton" type="button" class="btn btn-primary">Save drawings</button>
      <p class="smallItalics">(Your browser may ask for permission the first time)</p>
      <div id="playAgainCheckboxForm" class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="playAgainCheckbox">
        <label class="form-check-label" for="playAgainCheckbox">
          Ready to play again?
        </label>
      </div>
    </div>
    <div id="noCanvasScreen">
      <p>Your browser doesn't support Canvas! Please get a newer browser and start a new game.</p>
    </div>
  </div>
</body>
</html>